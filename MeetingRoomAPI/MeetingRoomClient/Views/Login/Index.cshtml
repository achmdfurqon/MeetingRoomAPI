
@{
    ViewBag.Title = "Index";
}

<h2>Index</h2>

<div class="form-group">
    <label id="idlabel" for="Id">Email</label>
    <input type="text" class="form-control" id="email" placeholder="Email" />
</div>
<div class="form-group">
    <label for="Name">Password</label>
    <input type="password" class="form-control" id="password" placeholder="Password" />
</div>
<button type="button" class="btn btn-primary" id="login" onclick="Login();">Login</button>

@section scripts {
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@9"></script>
    <script>
        function Login() {
            var user = new Object();
            user.Email = $("#email").val();
            user.Password = $("#password").val();
            debugger;
            $.ajax({
                "url": "/Login/LoginUser/",
                "type": "POST",
                "dataType": "json",
                "data": { Email: user.Email, Password: user.Password }
            }).then((StatusCode) => {
                debugger;
                if (StatusCode.data.Result.StatusCode == 200) {
                    //window.location = 'Home'
                    window.location.replace("http://localhost:62529/");
                }
                else {
                    Swal.fire({
                        icon: 'Failed!',
                        title: 'Login Failed.',
                        text: 'FAILED'
                    })
                }
            })
        }
    </script>
}